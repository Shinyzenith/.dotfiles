#!/usr/bin/env bash
# very hacky way to toggle monocle mode, it's currently quite hard to get working out of the box with rivercarro
if [ -f /tmp/monoclelock ]; then
	echo "Monocle lock file exists...proceeding to remove file and switch to tiled layout"
	rm /tmp/monoclelock
	killall rivercarro
	# getting the rivercarro command from the init file itself so that everything stays in sync across config changes
	egrep "^rivercarro.*$" ~/.config/river/init | xargs /bin/bash -c 
else
	echo "Monocle lock file doesn't exist, switching to monocle mode and deleting lock file."
	riverctl send-layout-cmd rivercarro "main-location monocle"
	touch /tmp/monoclelock
fi

